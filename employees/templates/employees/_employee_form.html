{% load crispy_forms_tags %}

<div class="employee-form-container">
    <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
        {% csrf_token %}
        
        {# معلومات أساسية #}
        <div class="card mb-4 shadow-sm">
            <div class="card-header bg-primary text-white">
                <h5><i class="bi bi-person-vcard me-2"></i>المعلومات الأساسية</h5>
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-6">
                        {{ form.employee_code|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.full_name|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.national_id|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.date_of_birth|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.gender|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.marital_status|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.phone_number|as_crispy_field }}
                    </div>
                    <div class="col-12">
                        {{ form.address|as_crispy_field }}
                    </div>
                </div>
            </div>
        </div>

        {# معلومات وظيفية #}
        <div class="card mb-4 shadow-sm">
            <div class="card-header bg-primary text-white">
                <h5><i class="bi bi-briefcase me-2"></i>المعلومات الوظيفية</h5>
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-6">
                        {{ form.department|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.job_title|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.hiring_date|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.standard_working_hours|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.is_active|as_crispy_field }}
                    </div>
                </div>
            </div>
        </div>

        {# معلومات مالية #}
        <div class="card mb-4 shadow-sm">
            <div class="card-header bg-primary text-white">
                <h5><i class="bi bi-cash-coin me-2"></i>المعلومات المالية</h5>
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-4">
                        {{ form.basic_salary|as_crispy_field }}
                    </div>
                    <div class="col-md-4">
                        {{ form.transportation_allowance|as_crispy_field }}
                    </div>
                    <div class="col-md-4">
                        {{ form.phone_package|as_crispy_field }}
                    </div>
                </div>
            </div>
        </div>

        {# معلومات التأمينات #}
        <div class="card mb-4 shadow-sm">
            <div class="card-header bg-primary text-white">
                <h5><i class="bi bi-shield-check me-2"></i>معلومات التأمينات</h5>
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-6">
                        {{ form.social_insurance_number|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.insurance_status|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.insured_salary|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.insurance_subscription_start_date|as_crispy_field }}
                    </div>
                </div>
            </div>
        </div>

        {# معلومات الإجازات والتقييم #}
        <div class="card mb-4 shadow-sm">
            <div class="card-header bg-primary text-white">
                <h5><i class="bi bi-calendar-check me-2"></i>الإجازات والتقييم</h5>
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-4">
                        {{ form.annual_leave_entitlement|as_crispy_field }}
                    </div>
                    <div class="col-md-4">
                        {{ form.casual_leave_entitlement|as_crispy_field }}
                    </div>
                    <div class="col-md-4">
                        {{ form.sick_leave_entitlement|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.performance_evaluation|as_crispy_field }}
                    </div>
                    <div class="col-md-6">
                        {{ form.salary_increase_rate|as_crispy_field }}
                    </div>
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-between mt-4">
            <button type="submit" class="btn btn-primary px-4">
                <i class="bi bi-check-lg me-2"></i>{{ submit_button_text }}
            </button>
            <a href="{{ cancel_url }}" class="btn btn-outline-secondary">
                <i class="bi bi-x-lg me-2"></i>إلغاء
            </a>
        </div>
